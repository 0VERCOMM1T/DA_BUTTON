[build]
  command = "npm run build"
  publish = "dist"
  environment = { NODE_VERSION = "20" }

# Production: builds from main
[context.production.environment]
  VITE_APP_ENV = "production"

# Staging: builds from 'testing' branch (we'll enable this in Netlify UI)
[context."branch:testing".environment]
  VITE_APP_ENV = "testing"

# Deploy previews: automatic for every PR
[context.deploy-preview.environment]
  VITE_APP_ENV = "preview"
